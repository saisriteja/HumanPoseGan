import os

from glob import glob

# path = '/home/cilab/teja/sign_langauge_dataset/vid(2)/viddata'

# # https://www.sign-lang.uni-hamburg.de/meinedgs/release2/videos/1583882/1583882_1a1.mp4

# names = []
# for i in glob(path + '/*.mp4'):
#     name = i.split('/')[-1].split('.')[0]
#     print(name)
#     names.append(name.split('_')[0])

# names = list(set(names))

# print(names)

ids = ['1413251', '1246681', '1247205', '1205699', '1250966', '1178763', '1290126', '1245820', '1220195', '1430592', '1245390', '1292086', '1204694', '1177640', '1209910', '1178939', '1182062', '1176566', '1428038', '1182801', '1245595', '1209006', '1182135', '1244796', '1583043', '1291243', '1419370', '1413230', '1249741', '1180318', '1187154', '1212416', '1246329', '1211752', '1180539', '1430396', '1180025', '1430328', '1206143', '1181159', '1200689', '1431428', '1209746', '1184164', '1292458', '1183426', '1177278', '1249376', '1248862', '1413242', '1433655', '1413236', '1289910', '1184536', '1204239', '1180027', '1177697', '1184367', '1212402', '1248699', '1582205', '1414563', '1582841', '1205951', '1247800', '1245597', '1180724', '1419130', '1210208', '1184089', '1180556', '1179224', '1204191', '1291636', '1431224', '1212611', '1179864', '1177266', '1245887', '1246344', '1419118', '1246064', '1289462', '1431676', '1419120', '1414312', '1209077', '1427725', '1430590', '1178147', '1413238', '1205168', '1431896', '1583214', '1583882', '1245356', '1177002', '1179856', '1583950', '1419797', '1180546', '1245605', '1205568', '1184145', '1428472', '1413485', '1247849', '1176624', '1419607', '1418858', '1178761', '1428225', '1183203', '1413234', '1429310', '1584617', '1432043', '1244742', '1292768', '1212218', '1180023', '1289868', '2021499', '1291638', '1211075', '1419931', '1178754', '1187218', '1178768', '1250279', '1181027', '1184749', '1291572', '1183035', '1428805', '1413240', '1249951', '1182343']

output_dir = 'output_vids'
os.makedirs(output_dir, exist_ok=True)
def download_dataset(id):
    url1 = f'https://www.sign-lang.uni-hamburg.de/meinedgs/release2/videos/{id}/{id}_1a1.mp4'
    url2 = f'https://www.sign-lang.uni-hamburg.de/meinedgs/release2/videos/{id}/{id}_1b1.mp4'

    os.system(f'wget {url1} -O {output_dir}/{id}_1a1.mp4')
    os.system(f'wget {url2} -O {output_dir}/{id}_1b1.mp4')


import multiprocessing as mp
from multiprocessing import Pool

num_cores = mp.cpu_count()
with Pool(num_cores) as p:
    p.map(download_dataset, ids)


